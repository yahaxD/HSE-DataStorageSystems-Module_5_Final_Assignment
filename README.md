# –ò—Ç–æ–≥–æ –∑–∞–¥–∞–Ω–∏–µ –ø–æ –º–æ–¥—É–ª—é 5 - –ö—É—Ä—Å "–°–∏—Å—Ç–µ–º—ã –•—Ä–∞–Ω–µ–Ω–∏—è –î–∞–Ω–Ω—ã—Ö"

## üß© –û–ø–∏—Å–∞–Ω–∏–µ

–ü—Ä–æ–µ–∫—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é **–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã Data Vault 2.0** –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–æ–π –º–æ–¥–µ–ª–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ—Ç–∫—Ä—ã—Ç–æ–≥–æ –Ω–∞–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö **SampleSuperstore.csv**.  

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

| –ö–∞—Ç–∞–ª–æ–≥ / –§–∞–π–ª | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|----------------|------------|
| `SampleSuperstore.csv` | –ò—Å—Ö–æ–¥–Ω—ã–π CSV-—Ñ–∞–π–ª —Å –¥–∞–Ω–Ω—ã–º–∏ –æ –ø—Ä–æ–¥–∞–∂–∞—Ö, –¥–æ—Å—Ç–∞–≤–∫–µ –∏ —Ç–æ–≤–∞—Ä–∞—Ö |
| `DataVault_diagram.png` | –ì—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Å—Ö–µ–º—ã |
| `data_check.png` | –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥—Ä–∑—É–∫–∏ –¥–∞–Ω–Ω—ã—Ö –≤ DataVualt |
| `sql/DataVault_structure.sql` | DDL-—Å–∫—Ä–∏–ø—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü Data Vault |
| `README.md` | –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞ |

---

## üìÑ –ò—Å—Ö–æ–¥–Ω—ã–π —Ñ–∞–π–ª `SampleSuperstore.csv`


**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–æ–ª–µ–π:**

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –ü–æ–ª—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|------------|------|-----------|
| **Shipment** | Ship Mode | –°–ø–æ—Å–æ–± –¥–æ—Å—Ç–∞–≤–∫–∏ |
| **Customer Class** | Segment | –°–µ–≥–º–µ–Ω—Ç –∫–ª–∏–µ–Ω—Ç–∞ |
| **Location** | Country, City, State, Postal Code, Region | –ì–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è |
| **Product** | Category, Sub-Category | –ö–∞—Ç–µ–≥–æ—Ä–∏—è –∏ –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—è —Ç–æ–≤–∞—Ä–∞ |
| **Stats** | Sales, Quantity, Discount, Profit | –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–¥–∞–∂ |

---

## üß± –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ Data Vault

### üèóÔ∏è –û—Å–Ω–æ–≤–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏

#### **–•–∞–±—ã**
| –•–∞–± | –ë–∏–∑–Ω–µ—Å-–∫–ª—é—á | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|-----|--------------|------------|
| `HUB_SHIPMENT` | Ship Mode | –°–ø–æ—Å–æ–±—ã –¥–æ—Å—Ç–∞–≤–∫–∏ |
| `HUB_SEGMENT` | Segment | –°–µ–≥–º–µ–Ω—Ç—ã –∫–ª–∏–µ–Ω—Ç–æ–≤ |
| `HUB_LOCATION` | Country + City + Postal Code | –ì–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∞—è –∑–æ–Ω–∞ |
| `HUB_PRODUCT` | Category + Sub-Category | –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤ |

#### **–õ–∏–Ω–∫**
| –õ–∏–Ω–∫ | –°–æ–µ–¥–∏–Ω—è–µ—Ç | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|------|------------|------------|
| `LINK_SALE` | Shipment + Segment + Location + Product | –ö–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–æ–¥–∞–∂–∏ (—Ñ–∞–∫—Ç —Å–≤—è–∑—ã–≤–∞–Ω–∏—è –≤—Å–µ—Ö —Ö–∞–±–æ–≤) |

#### **–°–ø—É—Ç–Ω–∏–∫–∏**
| –°–ø—É—Ç–Ω–∏–∫ | –ü—Ä–∏–≤—è–∑–∞–Ω –∫ | –°–æ–¥–µ—Ä–∂–∏—Ç | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
|----------|-------------|-----------|-------------|
| `SAT_PRODUCT_ATTR` | HUB_PRODUCT | Category, Sub-Category | –ê—Ç—Ä–∏–±—É—Ç—ã —Ç–æ–≤–∞—Ä–∞ |
| `SAT_LOCATION_ATTR` | HUB_LOCATION | Country, State, City, Region, Postal Code | –ì–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ –∞—Ç—Ä–∏–±—É—Ç—ã |
| `SAT_SALE_FACTS` | LINK_SALE | Sales, Quantity, Discount, Profit | –§–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –ø—Ä–æ–¥–∞–∂ |

![–î–∏–∞–≥—Ä–∞–º–º–∞ Data Vault](DataVault_diagram.png)

## ‚öôÔ∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- **–•—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ:** `MD5()`  
  - –î–ª—è –±–∏–∑–Ω–µ—Å-–∫–ª—é—á–µ–π (Hub Keys, Link Keys)  
  - –î–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è `hashdiff` –≤ —Å–ø—É—Ç–Ω–∏–∫–∞—Ö
- **PK –≤ —Å–ø—É—Ç–Ω–∏–∫–∞—Ö:** `(business_hashkey, hashdiff)`  
  - –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å –ø–æ –∫–ª—é—á—É –∏ —Å–æ–¥–µ—Ä–∂–∏–º–æ–º—É –±–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç `loaddate`
- **–ê—Ç—Ä–∏–±—É—Ç—ã –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö:**
  - `loaddate` ‚Äî –¥–∞—Ç–∞ –∏ –≤—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏ –∑–∞–ø–∏—Å–∏  
  - `recordsource` ‚Äî –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö (`'CSV_SUPERSTORE'`)


